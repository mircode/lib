/*! lib v1.1.0 | nighca(nighca@live.cn) | Apache License(2.0) */
!function(n){"use strict";var t=Object.prototype.toString.call.bind(Object.prototype.toString),e=function(n,e){if("[object Array]"!==t(n)){for(var r in n)if(n.hasOwnProperty(r)&&e.call(this,n[r],r)===!1)return}else for(var o=0,i=n.length;i>o&&e.call(this,n[o],o)!==!1;o++);},r=function(n,t){if(!n)return n;var r=new n.constructor;return e(n,function(n,e){t(r,n,e)}),r},o=function(n,t){return r(n,function(n,e,r){n[r]=t?t(e,r):e})},i=function(n,t){return r(n,function(n,e,r){t(e,r)&&(n[r]=e)})},c=o,u=function(n,t,r){return n=(r?c(n):n)||{},e(t,function(t,e){n[e]=t}),n},f=function(n,t){var r=[];return e(t,function(n,t){r.push([t,n].map(encodeURIComponent).join("="))}),r.length&&(n=n+(n.indexOf("?")>=0?"&":"?")+r.join("&")),n},s=function(t,e,r){r||(r=e,e={}),e=u({cb:"cb_"+(Math.random()+"").slice(2)},e),t=f(t,e);var o=u(document.createElement("script"),{src:t,async:!0,charset:"utf-8"});n[e.cb]=function(){r.apply(this,arguments),document.head.removeChild(o),o=null},document.head.appendChild(o)},a=function(n,t){var e=n.length,r=[],o=!1;return e?(n.forEach(function(n,i){n(function(n,c){if(!o){if(n)throw o=!0,n;r[i]=c,e--,e||t.apply(null,r)}})}),void 0):(t(),void 0)},l=function(n,t){return n.replace(/\$\{([^\{\}]*)\}/g,function(n,e){var r=t[e.trim()];return null==r?"":r+""})},p={on:HTMLElement.prototype.addEventListener,un:HTMLElement.prototype.removeEventListener,css:function(n,r){var o=this;return"[object String]"===t(n)?this.style.setProperty(n,r):e(n,function(n,t){o.css(t,n)})},show:function(){this.css("display","")},hide:function(){this.css("display","none")},find:function(n){return d(n,this)},findAll:function(n){return m(n,this)},parent:function(){return h(this.parentNode)}},h=function(n){return n?u(n,p):n},d=function(n,e){return h("[object String]"===t(n)?(e||document).querySelector(n):n)},m=function(n,e){return Array.prototype.slice.call("[object String]"===t(n)?(e||document).querySelectorAll(n):n).map(h)};u(d,{type:t,forEach:e,map:o,filter:i,clone:c,extend:u,formatUrl:f,jsonp:s,finish:a,format:l}),u(n,{$:d,$$:m})}(this);